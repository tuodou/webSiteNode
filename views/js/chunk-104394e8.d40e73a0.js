(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-104394e8"],{"0d43":function(n,e,o){n.exports=o.p+"img/login_logo.358ab5fd.jpg"},"12ed":function(n,e,o){n.exports=o.p+"img/background_image_no1.c2174bbb.jpg"},"36a7":function(n,e,o){n.exports=o.p+"img/background_image_no4.2dfbc484.jpg"},6682:function(n,e,o){n.exports=o.p+"img/background_image_no5.97081eef.jpg"},"71eb":function(n,e,o){},"729b":function(n,e,o){n.exports=o.p+"img/background_image_no3.eae9eda8.jpg"},8151:function(n,e,o){n.exports=o.p+"img/background_image_no2.051c3f0d.jpg"},"9ed6":function(n,e,o){"use strict";o.r(e);var t=function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticClass:"login",style:n.bgStyle},[o("div",{staticClass:"login-content"},[o("p",{staticClass:"content-header"},[n._v("sign in or sign up")]),o("div",{staticClass:"sign-action",on:{click:n.chooseSignAction}},[o("a-button",{staticClass:"action-item",class:n.isLogin?"active":""},[n._v("sign in")]),o("a-button",{staticClass:"action-item",class:n.isLogin?"":"active"},[n._v("sign up")])],1),o("div",{staticClass:"content-logo"},[o("img",{staticClass:"logo-img",attrs:{src:n.logo}})]),o("div",{staticClass:"login-form"},[o("div",{staticClass:"input-item"},[o("label",{attrs:{for:"username"}},[n._v("username")]),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.loginInfo.username,expression:"loginInfo.username",modifiers:{trim:!0}}],attrs:{id:"username",placeholder:"Please input your username"},domProps:{value:n.loginInfo.username},on:{input:function(e){e.target.composing||n.$set(n.loginInfo,"username",e.target.value.trim())},blur:function(e){return n.$forceUpdate()}}})]),o("div",{staticClass:"input-item"},[o("label",{attrs:{for:"password"}},[n._v("password")]),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.loginInfo.password,expression:"loginInfo.password",modifiers:{trim:!0}}],attrs:{id:"password",type:"password",placeholder:"Please input your password"},domProps:{value:n.loginInfo.password},on:{input:function(e){e.target.composing||n.$set(n.loginInfo,"password",e.target.value.trim())},blur:function(e){return n.$forceUpdate()}}})]),o("div",{staticClass:"input-item"},[n.isLogin?o("a-checkbox",{attrs:{defaultChecked:""},on:{change:n.rememberMe}},[n._v("remember me")]):n._e()],1),o("button",{staticClass:"login-btn",on:{click:n.loginIn}},[n._v(n._s(n.isLogin?"Sign In":"Sign Up"))])]),o("div",{staticClass:"copyright"},[n._v("版权所有 | 草帽海贼团")])])])},i=[],s=o("12ed"),a=o.n(s),r=o("8151"),c=o.n(r),l=o("729b"),g=o.n(l),u=o("36a7"),m=o.n(u),d=o("6682"),p=o.n(d),f=o("0d43"),b=o.n(f),h={bgList:[a.a,c.a,g.a,m.a,p.a],login_logo:b.a},v={testLoginInfo:function(n){return n.username?!(n.password.length<6)||"密码长度不能小于6":"用户名不能为空"}},_=v,k=o("dec4"),w={name:"login",data:function(){return{isLogin:!0,loginInfo:{username:"",password:"",remember:!0},logo:h.login_logo,backgroundImg:h.bgList[Math.floor(Math.random()*h.bgList.length)],bgStyle:{},clickAble:!0}},created:function(){window.localStorage.getItem("userToken")&&this.$router.push({name:"home"}),this.bgStyle={backgroundImage:"url(".concat(h.bgList[Math.floor(Math.random()*h.bgList.length)],")")}},methods:{loginIn:function(){var n=this;if(this.clickAble){this.clickAble=!1,setTimeout(function(){n.clickAble=!0},2e3);var e=_.testLoginInfo(this.loginInfo);if(!0===e){var o=this.isLogin?k["a"].signIn:k["a"].signUp;o(this.loginInfo).then(function(e){console.log("+++++++++++++++++",e),window.localStorage.setItem("userToken",e.token),n.$router.push("/home"),n.clickAble=!0}).catch(function(e){n.$message.error(e.errorMessage,n.closeMsg)})}else this.$message.error(e,this.closeMsg)}},closeMsg:function(){this.clickAble=!0},rememberMe:function(n){this.loginInfo.remember=n.target.checked},chooseSignAction:function(){this.isLogin=!this.isLogin}}},I=w,C=(o("a52a"),o("2877")),L=Object(C["a"])(I,t,i,!1,null,"08b7dd80",null);e["default"]=L.exports},a52a:function(n,e,o){"use strict";var t=o("71eb"),i=o.n(t);i.a}}]);
//# sourceMappingURL=chunk-104394e8.d40e73a0.js.map